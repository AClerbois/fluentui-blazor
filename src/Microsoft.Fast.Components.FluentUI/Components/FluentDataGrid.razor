@typeparam TItem
@inherits FluentComponentBase
<fluent-data-grid @ref=Element
                  generate-header=none
                  grid-template-columns=@GridTemplateColumns
                  @attributes="@AdditionalAttributes">
    @if (GenerateHeader != GenerateHeaderOptions.None)
    {
        DataGridRowType headerType = DataGridRowType.Header;
        if (GenerateHeader == GenerateHeaderOptions.Sticky)
            headerType = DataGridRowType.StickyHeader;
            <fluentDataGridRow RowType=@headerType TItem=TItem>
            @{
                int gridColumn = 1;
                foreach (ColumnDefinition<TItem> column in ColumnDefinitions!)
                {
                    <fluentDataGridCell GridColumn=@(gridColumn++) CellType=DataGridCellType.ColumnHeader>
                    @if (HeaderCellTemplate != null)
                    {
                        @HeaderCellTemplate(column)
                    }
                    else
                    {
                        @column.Title
                    }
                    </FluentDataGridCell>
                }
            }
        </FluentDataGridRow>
    }

    @if (RowsData == null)
    {
        @ChildContent
    }
    else
    {
        int index = 1;
        foreach (TItem item in RowsData)
        {
            if (RowItemTemplate != null)
            {
                @RowItemTemplate(item)
            }
            else
            {
                <fluentDataGridRow GridTemplateColumns=@GridTemplateColumns ColumnDefinitions=@ColumnDefinitions RowIndex=@(index++) TItem=TItem RowData=@item />
            }
        }
    }
</fluent-data-grid>